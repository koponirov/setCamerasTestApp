(this.webpackJsonproowix_test=this.webpackJsonproowix_test||[]).push([[0],{102:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/up-arrow.4c7789e9.svg"},163:function(e,t,a){e.exports=a(334)},168:function(e,t,a){},172:function(e,t,a){e.exports=a.p+"static/media/camera.f16a1286.svg"},334:function(e,t,a){"use strict";a.r(t);var r,n=a(0),i=a.n(n),o=a(11),c=a.n(o),l=(a(168),a(102),a(346)),s=a(335),m=a(336),u=a(337),d=a(8),b=a.n(d),p=a(27),g=a(155),E=a(15),h={markers:[],currentMarker:null,editMode:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MARKER":return Object(E.a)(Object(E.a)({},e),{},{markers:[].concat(Object(g.a)(e.markers),[{id:e.markers.length+1,position:[t.marker.lat,t.marker.lng],angle:0,range:25,direction:"north"}])});case"SET_MARKER_DATA":return Object(E.a)(Object(E.a)({},e),{},{markers:e.markers.map((function(e){return e.id===t.id?Object(E.a)(Object(E.a)({},e),{},{range:t.range}):e}))});case"REMOVE_MARKER":return Object(E.a)(Object(E.a)({},e),{},{markers:e.markers.filter((function(e){return e.id!=t.id}))});case"SET_CURRENT_MARKER":return Object(E.a)(Object(E.a)({},e),{},{currentMarker:Object(E.a)({},t.marker)});default:return e}},f=(a(172),a(134)),v=a.n(f),O={visible:!1},R=function(){return{type:"TOGGLE_VISIBLE"}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_VISIBLE":return Object(E.a)(Object(E.a)({},e),{},{visible:!e.visible});default:return e}},_=a(135),j=a(136),w=a(159),y=a(154),S=a(137),A=a(26),T=b.a.Marker.prototype._setPos,D=b.a.Marker.extend({_setPos:function(e){T.call(this,e),this._setRotation(this.options.rotation)},_setRotation:function(e){if(e){this._icon.style[b.a.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin||"center";var t=this._icon.style[b.a.DomUtil.TRANSFORM]+" rotate(".concat(e,"deg)");this._icon.style[b.a.DomUtil.TRANSFORM]=t}}}),V=function(e){Object(w.a)(a,e);var t=Object(y.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"createLeafletElement",value:function(){return e=this.props.position,t=Object(E.a)({},this.props),new D(e,t);var e,t}}]),a}(S.ExtendableMarker),x=(Object(A.b)(V),Object(p.b)((function(e){return{markers:e.map.markers}}),{setMarker:function(e){return{type:"ADD_MARKER",marker:e}},setCurrentMarker:function(e){return{type:"SET_CURRENT_MARKER",marker:e}},toggleVisible:R})((function(e){var t=e.markers,a=e.setMarker,r=e.width,n=e.height,o=e.toggleVisible,c=e.setCurrentMarker;new d.Icon({iconUrl:v.a,iconSize:[16,16]});return i.a.createElement(l.a,{center:[0,0],zoom:1,minZoom:-1,maxZoom:2,maxBounds:[[0,0],[-n,r]],crs:d.CRS.Simple,onDblclick:function(e){var t=e.latlng.lat,r=e.latlng.lng;a({lat:t,lng:r})},doubleClickZoom:!1,dragging:!0},i.a.createElement(s.a,{url:"https://static.tildacdn.com/tild3965-6139-4564-b262-303737393665/_8.jpg",bounds:[[-10,100],[-400,650]]},t.map((function(e){var t=e.position[0],a=e.position[1];return i.a.createElement(m.a,{center:[t,a],radius:2,key:e.id,onClick:function(r){r.latlng.lat==t&&r.latlng.lng==a?(o(),c(e)):console.log("no")}},i.a.createElement(u.a,{positions:[[t,a],[t+e.range,a-3],[t+e.range,a+3]]}))}))))}))),C=a(139),I=a.n(C),K=a(345),N=(a(184),a(157)),F=a(341),U=a(344),B=a(339),L=a(340),G=a(98),z=a(343),P=a(342),Z=a(338),J=F.a.Item,W=(r=U.a,function(e){var t=e.input,a=e.meta,n=e.children,o=e.hasFeedback,c=e.label,l=Object(N.a)(e,["input","meta","children","hasFeedback","label"]),s=a.touched&&a.invalid;return i.a.createElement(J,{label:c,validateStatus:s?"error":"success",hasFeedback:o&&s,help:s&&a.error},i.a.createElement(r,Object.assign({},t,l,{children:n})))}),X=Object(P.a)({form:"drawerForm",enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e.reset,r=e.removeMarker,n=e.toggleVisible,o=e.id;return i.a.createElement(Z.a,{onSubmit:t},i.a.createElement(B.a,{gutter:16},i.a.createElement(L.a,{span:12},i.a.createElement(z.a,{label:"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b",name:"position",component:W,placeholder:"\u0448\u0438\u0440\u043e\u0442\u0430, \u0434\u043e\u043b\u0433\u043e\u0442\u0430"}))),i.a.createElement(B.a,{gutter:24},i.a.createElement(L.a,{span:8},i.a.createElement(z.a,{label:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",name:"direction",component:W,placeholder:"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})),i.a.createElement(L.a,{span:8},i.a.createElement(z.a,{label:"\u0423\u0433\u043e\u043b \u043e\u0431\u0437\u043e\u0440\u0430",name:"angle",component:W,placeholder:"\u0423\u0433\u043e\u043b"})),i.a.createElement(L.a,{span:8},i.a.createElement(z.a,{label:"\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0437\u043e\u0440\u0430",name:"range",value:"number",component:W,placeholder:"\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}))),i.a.createElement(J,null,i.a.createElement(G.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),i.a.createElement(G.a,{onClick:function(){a(),r(o),n()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})),$=Object(p.b)((function(e){return{visible:e.drawer.visible,markers:e.map.markers,currentMarker:e.map.currentMarker}}),{toggleVisible:R,setMarkerData:function(e,t){return{type:"SET_MARKER_DATA",id:e,range:t}},removeMarker:function(e){return{type:"REMOVE_MARKER",id:e}}})((function(e){var t=e.visible,a=e.toggleVisible,r=e.setMarkerData,n=e.removeMarker,o=e.currentMarker;return i.a.createElement(K.a,{width:540,onClose:function(){a()},visible:t,bodyStyle:{paddingBottom:80},maskStyle:{display:"none"}},i.a.createElement(X,{onSubmit:function(e){var t=o.id,n=parseInt(e.range,10);r(t,n),a()},initialValues:o,removeMarker:n,toggleVisible:a,id:o?o.id:0}))}));var q=function(){return i.a.createElement("div",{className:"app_container"},i.a.createElement(I.a,null,(function(e){var t=e.width,a=e.height;return i.a.createElement(x,{width:t,height:a})})),i.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(9),Q=a(347),Y=Object(H.c)({map:k,drawer:M,form:Q.a}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,te=Object(H.e)(Y,ee(Object(H.a)()));c.a.render(i.a.createElement(p.a,{store:te},i.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.221ba32d.chunk.js.map